<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TierList Pro - Атлетико Мадрид</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --goat-color: #FFD700;
            --goat-gradient: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            --good-color: #10B981;
            --good-gradient: linear-gradient(135deg, #10B981 0%, #059669 100%);
            --norm-color: #3B82F6;
            --norm-gradient: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
            --bad-color: #EF4444;
            --bad-gradient: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
            --primary-color: #CB3524;
            --primary-gradient: linear-gradient(135deg, #CB3524 0%, #A52A1D 100%);
            --dark-bg: #0F172A;
            --darker-bg: #020617;
            --card-bg: rgba(30, 41, 59, 0.7);
            --card-border: rgba(255, 255, 255, 0.1);
            --text-primary: #F8FAFC;
            --text-secondary: #94A3B8;
            --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.3);
            --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.4);
            --glass-bg: rgba(15, 23, 42, 0.8);
            --glass-border: rgba(255, 255, 255, 0.05);
            --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius-xl: 20px;
            --border-radius-lg: 16px;
            --border-radius-md: 12px;
            --border-radius-sm: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(203, 53, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(30, 41, 59, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(15, 23, 42, 0.2) 0%, transparent 50%);
            z-index: -1;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            gap: 30px;
        }

        /* Основной контент */
        .main-content {
            flex: 1;
            min-width: 0;
        }

        /* Sidebar с тир-листом */
        .tierlist-sidebar {
            width: 380px;
            flex-shrink: 0;
            position: sticky;
            top: 20px;
            height: calc(100vh - 40px);
            overflow-y: auto;
            padding-right: 10px;
        }

        .tierlist-sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .tierlist-sidebar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .tierlist-sidebar::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        /* Glass Morphism эффекты */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-lg);
        }

        .glass-heavy {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Header */
        header {
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(15, 23, 42, 0.95);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-combined {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .app-logo {
            height: 50px;
            width: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-gradient);
            color: white;
            font-weight: 900;
            font-size: 1.8rem;
            box-shadow: 0 8px 20px rgba(203, 53, 36, 0.3);
            transition: var(--transition-smooth);
        }

        .app-logo:hover {
            transform: rotate(15deg) scale(1.1);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-title {
            font-size: 1.8rem;
            font-weight: 900;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
        }

        .logo-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
            letter-spacing: 2px;
        }

        .header-stats {
            display: flex;
            gap: 30px;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Screens */
        .screen {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes flyToTier {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            30% {
                opacity: 0.8;
                transform: translate(var(--tx), var(--ty)) scale(1.2);
            }
            70% {
                opacity: 0.3;
                transform: translate(var(--tx), var(--ty)) scale(0.8);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.5);
            }
        }

        @keyframes addToTier {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-15deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        /* Анимации для горизонтальной гистограммы */
        @keyframes horizontalBarSlide {
            0% {
                width: 0;
                opacity: 0;
                transform: translateX(-20px);
            }
            100% {
                width: var(--bar-width);
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes photoSlideIn {
            0% {
                opacity: 0;
                transform: translateX(-50px) scale(0.8);
            }
            70% {
                opacity: 1;
                transform: translateX(10px) scale(1.1);
            }
            100% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes horizontalGlow {
            0%, 100% {
                box-shadow: 0 0 20px currentColor;
            }
            50% {
                box-shadow: 0 0 35px currentColor;
            }
        }

        @keyframes categorySlideIn {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Sidebar стили */
        .sidebar-header {
            padding: 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sidebar-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .sidebar-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .tier-category {
            margin-bottom: 25px;
        }

        .tier-category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-radius: var(--border-radius-lg);
            margin-bottom: 15px;
            transition: var(--transition-smooth);
        }

        .tier-category-header.goat {
            background: var(--goat-gradient);
        }

        .tier-category-header.good {
            background: var(--good-gradient);
        }

        .tier-category-header.norm {
            background: var(--norm-gradient);
        }

        .tier-category-header.bad {
            background: var(--bad-gradient);
        }

        .tier-category-title {
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tier-category-count {
            font-size: 0.9rem;
            opacity: 0.9;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px 12px;
            border-radius: 20px;
        }

        .tier-category-empty {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border: 2px dashed rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-md);
        }

        .tier-category-empty i {
            font-size: 2rem;
            margin-bottom: 15px;
            opacity: 0.3;
        }

        .tier-players-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 0 5px;
        }

        .tier-player-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius-md);
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition-smooth);
            border: 1px solid transparent;
            animation: addToTier 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tier-player-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        .tier-player-photo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .tier-player-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .tier-player-info {
            flex: 1;
            min-width: 0;
        }

        .tier-player-name {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .tier-player-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tier-player-position {
            font-size: 0.75rem;
            color: var(--text-secondary);
            background: rgba(255, 255, 255, 0.05);
            padding: 2px 8px;
            border-radius: 10px;
        }

        .tier-player-number {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        /* Экран 1: Главный экран */
        .hero-section {
            padding: 80px 0 60px;
            text-align: center;
        }

        .club-hero {
            position: relative;
            margin-bottom: 60px;
        }

        .club-badge-hero {
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            position: relative;
        }

        .club-badge-hero img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.4));
            transition: var(--transition-smooth);
        }

        .club-badge-hero:hover img {
            transform: scale(1.1) rotate(5deg);
        }

        .club-badge-glow {
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: radial-gradient(circle, rgba(203, 53, 36, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            z-index: -1;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 20px;
            background: linear-gradient(to right, #FFFFFF, var(--primary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 40px;
            line-height: 1.6;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .btn {
            padding: 20px 30px;
            border-radius: var(--border-radius-lg);
            border: none;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition-smooth);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 10px 30px rgba(203, 53, 36, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(203, 53, 36, 0.4);
        }

        .btn-secondary {
            background: var(--card-bg);
            color: white;
            border: 1px solid var(--card-border);
        }

        .btn-secondary:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .btn i {
            font-size: 1.2rem;
        }

        /* Экран 2: Оценка игроков */
        .rating-screen {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 0;
        }

        .rating-container {
            width: 100%;
            max-width: 900px;
            position: relative;
        }

        .rating-card {
            padding: 50px;
            border-radius: var(--border-radius-xl);
            position: relative;
            overflow: hidden;
        }

        .rating-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%, rgba(203, 53, 36, 0.1) 0%, transparent 50%);
            z-index: -1;
        }

        .rating-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 20px;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 4px;
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .player-showcase {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 50px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .player-photo-showcase {
            width: 220px;
            height: 220px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-xl);
            border: 3px solid var(--primary-color);
            transition: var(--transition-smooth);
        }

        .player-photo-showcase:hover {
            transform: scale(1.05) rotate(2deg);
        }

        .player-photo-showcase img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .player-number-badge {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 800;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .player-details-showcase {
            max-width: 400px;
        }

        .player-details-showcase h2 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(to right, #FFFFFF, var(--primary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .player-position {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .position-badge {
            background: rgba(203, 53, 36, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .rating-options-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .rating-option-card {
            padding: 25px 20px;
            border-radius: var(--border-radius-lg);
            text-align: center;
            cursor: pointer;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            border: 2px solid transparent;
        }

        .rating-option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .rating-option-card:hover::before {
            opacity: 0.1;
        }

        .rating-option-card.goat {
            background: rgba(255, 215, 0, 0.1);
            border-color: var(--goat-color);
        }

        .rating-option-card.goat::before {
            background: var(--goat-gradient);
        }

        .rating-option-card.good {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--good-color);
        }

        .rating-option-card.good::before {
            background: var(--good-gradient);
        }

        .rating-option-card.norm {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--norm-color);
        }

        .rating-option-card.norm::before {
            background: var(--norm-gradient);
        }

        .rating-option-card.bad {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--bad-color);
        }

        .rating-option-card.bad::before {
            background: var(--bad-gradient);
        }

        .rating-option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .rating-option-card h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .rating-option-card.goat h3 {
            color: var(--goat-color);
        }

        .rating-option-card.good h3 {
            color: var(--good-color);
        }

        .rating-option-card.norm h3 {
            color: var(--norm-color);
        }

        .rating-option-card.bad h3 {
            color: var(--bad-color);
        }

        .rating-option-card p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
        }

        /* Экран 3: Результаты - ГОРИЗОНТАЛЬНАЯ ГИСТОГРАММА */
        .results-screen {
            padding: 60px 0;
        }

        .results-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .results-title {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 15px;
            background: linear-gradient(to right, #FFFFFF, var(--primary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .results-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 20px;
        }

        .horizontal-histogram {
            max-width: 1800px;
            margin: 0 auto 50px;
            background: var(--card-bg);
            border-radius: var(--border-radius-xl);
            padding: 40px;
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .horizontal-histogram::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(203, 53, 36, 0.05) 0%, transparent 50%),
                       radial-gradient(circle at 80% 20%, rgba(255, 215, 0, 0.03) 0%, transparent 50%);
            z-index: -1;
        }

        .results-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 50px;
        }

        /* Стили для фотографий игроков - ГОРИЗОНТАЛЬНЫЕ БАРЫ */
        .horizontal-bar {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            animation: categorySlideIn 0.6s ease-out forwards;
            opacity: 0;
        }

        .horizontal-bar:nth-child(1) { animation-delay: 0.1s; }
        .horizontal-bar:nth-child(2) { animation-delay: 0.2s; }
        .horizontal-bar:nth-child(3) { animation-delay: 0.3s; }
        .horizontal-bar:nth-child(4) { animation-delay: 0.4s; }

        .bar-label {
            width: 120px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-right: 20px;
        }

        .bar-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            color: white;
            margin-bottom: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .bar-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 5px;
            text-align: center;
        }

        .bar-count {
            font-size: 1.2rem;
            font-weight: 700;
            opacity: 0.9;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px 12px;
            border-radius: 15px;
        }

        .bar-content {
            flex: 1;
            min-height: 180px;
            position: relative;
            overflow-x: auto;
            padding: 15px 0;
        }

        .bar-content::-webkit-scrollbar {
            height: 8px;
        }

        .bar-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .bar-content::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .players-horizontal {
            display: flex;
            gap: 25px;
            padding: 10px 5px;
            height: 100%;
        }

        .horizontal-player-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 160px;
            animation: photoSlideIn 0.6s ease-out forwards;
            opacity: 0;
            transform: translateX(-50px);
            flex-shrink: 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .horizontal-player-card:hover {
            transform: translateY(-10px) scale(1.05);
            z-index: 10;
        }

        .horizontal-photo {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            margin-bottom: 15px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .horizontal-photo:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.6);
        }

        .horizontal-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
            filter: contrast(1.1) saturate(1.2);
            transition: transform 0.4s ease;
        }

        .horizontal-photo:hover img {
            transform: scale(1.1);
        }

        .horizontal-photo.goat {
            border-color: var(--goat-color);
            box-shadow: 0 0 35px rgba(255, 215, 0, 0.5);
        }

        .horizontal-photo.good {
            border-color: var(--good-color);
            box-shadow: 0 0 35px rgba(16, 185, 129, 0.5);
        }

        .horizontal-photo.norm {
            border-color: var(--norm-color);
            box-shadow: 0 0 35px rgba(59, 130, 246, 0.5);
        }

        .horizontal-photo.bad {
            border-color: var(--bad-color);
            box-shadow: 0 0 35px rgba(239, 68, 68, 0.5);
        }

        .horizontal-player-info {
            text-align: center;
            width: 100%;
        }

        .horizontal-player-name {
            font-weight: 800;
            font-size: 1.1rem;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 0 5px;
        }

        .horizontal-player-details {
            display: flex;
            justify-content: center;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        .horizontal-position-badge {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .horizontal-player-number {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 0.9rem;
            background: rgba(203, 53, 36, 0.1);
            padding: 4px 10px;
            border-radius: 15px;
        }

        .horizontal-order-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.9rem;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 5;
        }

        .empty-horizontal-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 180px;
            color: var(--text-secondary);
            font-size: 1.2rem;
            text-align: center;
            padding: 20px;
            border: 2px dashed rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-lg);
            animation: photoSlideIn 0.6s ease-out forwards;
        }

        /* Навигационные кнопки */
        .nav-btn {
            background: transparent;
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 25px;
            border-radius: var(--border-radius-md);
            transition: var(--transition-smooth);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-5px);
        }

        .nav-btn i {
            font-size: 1.2rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .footer-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .social-links {
            display: flex;
            gap: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            transition: var(--transition-smooth);
        }

        .social-link:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }

        /* Toast уведомления */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--darker-bg);
            color: white;
            padding: 20px 25px;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 9999;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-left: 4px solid var(--primary-color);
            backdrop-filter: blur(20px);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast i {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        /* Адаптивность */
        @media (max-width: 1200px) {
            .container {
                flex-direction: column;
            }
            
            .tierlist-sidebar {
                width: 100%;
                height: auto;
                position: static;
                margin-bottom: 40px;
            }
            
            .main-content {
                width: 100%;
            }
            
            .horizontal-histogram {
                padding: 30px;
            }
            
            .horizontal-photo {
                width: 120px;
                height: 120px;
            }
            
            .horizontal-player-card {
                width: 140px;
            }
        }

        @media (max-width: 1024px) {
            .hero-title {
                font-size: 3rem;
            }
            
            .rating-options-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .results-title {
                font-size: 2.8rem;
            }
            
            .horizontal-photo {
                width: 110px;
                height: 110px;
            }
            
            .horizontal-player-card {
                width: 130px;
            }
            
            .bar-label {
                width: 100px;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .player-showcase {
                flex-direction: column;
                text-align: center;
            }
            
            .results-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .tier-players-grid {
                grid-template-columns: 1fr;
            }
            
            .results-title {
                font-size: 2.2rem;
            }
            
            .results-subtitle {
                font-size: 1.1rem;
                padding: 0 20px;
            }
            
            .horizontal-histogram {
                padding: 20px;
            }
            
            .horizontal-bar {
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 40px;
            }
            
            .bar-label {
                width: 100%;
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 15px;
                padding-right: 0;
            }
            
            .bar-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                margin-bottom: 0;
                margin-right: 15px;
            }
            
            .bar-title {
                margin-bottom: 0;
                flex: 1;
                text-align: left;
            }
            
            .horizontal-photo {
                width: 100px;
                height: 100px;
            }
            
            .horizontal-player-card {
                width: 120px;
            }
        }

        @media (max-width: 480px) {
            .rating-options-grid {
                grid-template-columns: 1fr;
            }
            
            .results-title {
                font-size: 2rem;
            }
            
            .horizontal-photo {
                width: 90px;
                height: 90px;
            }
            
            .horizontal-player-card {
                width: 110px;
            }
            
            .players-horizontal {
                gap: 15px;
            }
        }

        /* Специальные анимации */
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
        }

        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-right {
            animation: slideInRight 0.6s ease-out;
        }

        /* Кастомный скроллбар */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .fly-animation {
            animation: flyToTier 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            position: fixed;
            z-index: 9998;
            pointer-events: none;
        }

        /* Статистика сверху для горизонтальной гистограммы */
        .horizontal-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 50px;
            text-align: center;
        }

        .horizontal-stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
            animation: categorySlideIn 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(-20px);
        }

        .horizontal-stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .horizontal-stat-card:nth-child(1) { 
            animation-delay: 0.1s; 
            border-color: rgba(255, 215, 0, 0.4); 
        }
        .horizontal-stat-card:nth-child(2) { 
            animation-delay: 0.2s; 
            border-color: rgba(16, 185, 129, 0.4); 
        }
        .horizontal-stat-card:nth-child(3) { 
            animation-delay: 0.3s; 
            border-color: rgba(59, 130, 246, 0.4); 
        }
        .horizontal-stat-card:nth-child(4) { 
            animation-delay: 0.4s; 
            border-color: rgba(239, 68, 68, 0.4); 
        }

        .horizontal-stat-value {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(135deg, currentColor, rgba(255,255,255,0.9));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .horizontal-stat-label {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 700;
        }

        .horizontal-stat-subtext {
            font-size: 0.9rem;
            color: var(--text-secondary);
            opacity: 0.7;
        }

        /* Эффект свечения для горизонтальных фотографий */
        .horizontal-photo-glow {
            position: relative;
        }

        .horizontal-photo-glow::after {
            content: '';
            position: absolute;
            top: -6px;
            left: -6px;
            right: -6px;
            bottom: -6px;
            border-radius: 50%;
            background: inherit;
            filter: blur(12px);
            opacity: 0.3;
            z-index: -1;
            animation: horizontalGlow 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar с тир-листом -->
        <aside class="tierlist-sidebar" id="tierlistSidebar">
            <div class="sidebar-header glass">
                <h2 class="sidebar-title">ТИР-ЛИСТ</h2>
                <p class="sidebar-subtitle">Распределение игроков в реальном времени</p>
            </div>
            
            <!-- GOAT категория -->
            <div class="tier-category">
                <div class="tier-category-header goat glass">
                    <div class="tier-category-title">
                        <i class="fas fa-crown"></i> GOAT
                    </div>
                    <div class="tier-category-count" id="goatCount">0/2</div>
                </div>
                <div class="tier-players-grid" id="goatPlayers">
                    <div class="tier-category-empty">
                        <i class="fas fa-users"></i>
                        <p>Добавьте сюда лучших</p>
                    </div>
                </div>
            </div>
            
            <!-- ХОРОШ категория -->
            <div class="tier-category">
                <div class="tier-category-header good glass">
                    <div class="tier-category-title">
                        <i class="fas fa-star"></i> Основа
                    </div>
                    <div class="tier-category-count" id="goodCount">0/6</div>
                </div>
                <div class="tier-players-grid" id="goodPlayers">
                    <div class="tier-category-empty">
                        <i class="fas fa-user-check"></i>
                        <p>Ключевые игроки</p>
                    </div>
                </div>
            </div>
            
            <!-- НОРМ категория -->
            <div class="tier-category">
                <div class="tier-category-header norm glass">
                    <div class="tier-category-title">
                        <i class="fas fa-user"></i> Лавка
                    </div>
                    <div class="tier-category-count" id="normCount">0/6</div>
                </div>
                <div class="tier-players-grid" id="normPlayers">
                    <div class="tier-category-empty">
                        <i class="fas fa-user-alt"></i>
                        <p>Игроки ротации</p>
                    </div>
                </div>
            </div>
            
            <!-- БЕЗДАРЬ категория -->
            <div class="tier-category">
                <div class="tier-category-header bad glass">
                    <div class="tier-category-title">
                        <i class="fas fa-user-times"></i> На выход
                    </div>
                    <div class="tier-category-count" id="badCount">0/6</div>
                </div>
                <div class="tier-players-grid" id="badPlayers">
                    <div class="tier-category-empty">
                        <i class="fas fa-user-slash"></i>
                        <p>Не соответствует уровню</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Основной контент -->
        <div class="main-content">
            <header class="glass-heavy">
                <div class="header-content">
                    <div class="logo-section">
                        <div class="logo-combined">
                            <div class="app-logo float-animation">
                                TL
                            </div>
                            <div class="logo-text">
                                <div class="logo-title">TIERLIST PRO</div>
                                <div class="logo-subtitle">MAD IS ON</div>
                            </div>
                        </div>
                    </div>
                    <div class="header-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="totalPlayers">20</div>
                            <div class="stat-label">Игроков</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="ratedPlayers">0</div>
                            <div class="stat-label">Оценено</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">4</div>
                            <div class="stat-label">Категории</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Экран 1: Главный экран -->
            <section id="screen1" class="screen active">
                <div class="hero-section">
                    <div class="club-hero">
                        <div class="club-badge-hero">
                            <div class="club-badge-glow"></div>
                            <img src="Atletico_Madrid.png" alt="Atlético Madrid" onerror="this.src='placeholder.png'">
                        </div>
                        <h1 class="hero-title animate__animated animate__fadeInUp">АТЛЕТИКО МАДРИД</h1>
                        <p class="hero-subtitle">Создайте свой персональный тир-лист игроков и тренера. Оцените каждого по 4-м категориям и получите уникальную статистику.</p>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="editBtn">
                            <i class="fas fa-edit"></i> РЕДАКТИРОВАТЬ ТИР-ЛИСТ
                        </button>
                        <button class="btn btn-secondary" id="shareBtn">
                            <i class="fas fa-share-alt"></i> ПОДЕЛИТЬСЯ
                        </button>
                        <button class="btn btn-primary pulse-glow" id="startRatingBtn">
                            <i class="fas fa-play-circle"></i> НАЧАТЬ ОЦЕНКУ
                        </button>
                        <button class="btn btn-primary" id="viewResultsBtn">
                            <i class="fas fa-chart-bar"></i> СМОТРЕТЬ РЕЗУЛЬТАТЫ
                        </button>
                    </div>
                </div>
            </section>

            <!-- Экран 2: Оценка игроков -->
            <section id="screen2" class="screen">
                <div class="rating-screen">
                    <div class="rating-container">
                        <div class="rating-card glass">
                            <div class="rating-progress">
                                <button class="nav-btn" id="backFromRatingBtn">
                                    <i class="fas fa-arrow-left"></i> Назад
                                </button>
                                
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                                
                                <div class="progress-text">
                                    <span id="currentProgress">1/20</span>
                                </div>
                            </div>
                            
                            <div class="player-showcase">
                                <div class="player-photo-showcase">
                                    <img id="currentPlayerPhoto" src="" alt="Player" onerror="this.src='placeholder.png'">
                                    <div class="player-number-badge" id="currentPlayerNumber"></div>
                                </div>
                                
                                <div class="player-details-showcase">
                                    <h2 id="currentPlayerName"></h2>
                                    <div class="player-position">
                                        <span id="currentPlayerPosition"></span>
                                        <span class="position-badge" id="currentPlayerPositionBadge"></span>
                                    </div>
                                    <p style="color: var(--text-secondary); font-size: 1.1rem;">
                                        Выберите категорию для этого игрока. После выбора автоматически перейдем к следующему.
                                    </p>
                                </div>
                            </div>
                            
                            <div class="rating-options-grid">
                                <div class="rating-option-card goat" data-category="goat">
                                    <h3>GOAT</h3>
                                    <p>Абсолютно лучший игрок клуба</p>
                                    <div class="category-counter">0/2</div>
                                </div>
                                
                                <div class="rating-option-card good" data-category="good">
                                    <h3>Основа</h3>
                                    <p>Ключевая фигура в команде</p>
                                    <div class="category-counter">0/6</div>
                                </div>
                                
                                <div class="rating-option-card norm" data-category="norm">
                                    <h3>Лавка</h3>
                                    <p>Футболист ротации</p>
                                    <div class="category-counter">0/6</div>
                                </div>
                                
                                <div class="rating-option-card bad" data-category="bad">
                                    <h3>На выход</h3>
                                    <p>Не соответствует уровню</p>
                                    <div class="category-counter">0/6</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Экран 3: Результаты - ГОРИЗОНТАЛЬНАЯ ГИСТОГРАММА -->
            <section id="screen3" class="screen">
                <div class="results-screen">
                    <div class="results-header">
                        <h1 class="results-title animate__animated animate__fadeInDown">АТЛЕТИКО МАДРИД</h1>
                        <p class="results-subtitle animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">Ваш персональный тир-лист игроков и тренера</p>
                        <div class="results-progress animate__animated animate__fadeInUp" style="animation-delay: 0.4s; margin-top: 20px; font-size: 1.1rem; color: var(--text-secondary);">
                            <i class="fas fa-check-circle" style="color: var(--good-color); margin-right: 10px;"></i>
                            Оценено: <span id="resultsTotalRated">0</span>/20 игроков
                        </div>
                    </div>
                    
                    <!-- Горизонтальная гистограмма результатов -->
                    <div class="horizontal-histogram glass">
                        <!-- Статистика сводка -->
                        <div id="resultsSummary" class="horizontal-stats"></div>
                        
                        <!-- GOAT категория -->
                        <div class="horizontal-bar">
                            <div class="bar-label">
                                <div class="bar-icon" style="background: var(--goat-gradient);">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <div>
                                    <div class="bar-title" style="color: var(--goat-color);">GOAT</div>
                                    <div class="bar-count" style="color: var(--goat-color);" id="resultsGoatCount">0/2</div>
                                </div>
                            </div>
                            <div class="bar-content">
                                <div class="players-horizontal" id="resultsGoatPlayers">
                                    <div class="empty-horizontal-bar">
                                        <div>
                                            <i class="fas fa-crown" style="font-size: 2.5rem; opacity: 0.3; margin-bottom: 15px;"></i>
                                            <div style="font-size: 1.2rem; margin-bottom: 5px;">Нет игроков</div>
                                            <div style="font-size: 0.9rem; opacity: 0.7;">Добавьте легенд клуба</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ХОРОШ категория -->
                        <div class="horizontal-bar">
                            <div class="bar-label">
                                <div class="bar-icon" style="background: var(--good-gradient);">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div>
                                    <div class="bar-title" style="color: var(--good-color);">Основа</div>
                                    <div class="bar-count" style="color: var(--good-color);" id="resultsGoodCount">0/6</div>
                                </div>
                            </div>
                            <div class="bar-content">
                                <div class="players-horizontal" id="resultsGoodPlayers">
                                    <div class="empty-horizontal-bar">
                                        <div>
                                            <i class="fas fa-star" style="font-size: 2.5rem; opacity: 0.3; margin-bottom: 15px;"></i>
                                            <div style="font-size: 1.2rem; margin-bottom: 5px;">Нет игроков</div>
                                            <div style="font-size: 0.9rem; opacity: 0.7;">Добавьте ключевых игроков</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- НОРМ категория -->
                        <div class="horizontal-bar">
                            <div class="bar-label">
                                <div class="bar-icon" style="background: var(--norm-gradient);">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div>
                                    <div class="bar-title" style="color: var(--norm-color);">Лавка</div>
                                    <div class="bar-count" style="color: var(--norm-color);" id="resultsNormCount">0/6</div>
                                </div>
                            </div>
                            <div class="bar-content">
                                <div class="players-horizontal" id="resultsNormPlayers">
                                    <div class="empty-horizontal-bar">
                                        <div>
                                            <i class="fas fa-user" style="font-size: 2.5rem; opacity: 0.3; margin-bottom: 15px;"></i>
                                            <div style="font-size: 1.2rem; margin-bottom: 5px;">Нет игроков</div>
                                            <div style="font-size: 0.9rem; opacity: 0.7;">Добавьте стабильных исполнителей</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- БЕЗДАРЬ категория -->
                        <div class="horizontal-bar">
                            <div class="bar-label">
                                <div class="bar-icon" style="background: var(--bad-gradient);">
                                    <i class="fas fa-user-times"></i>
                                </div>
                                <div>
                                    <div class="bar-title" style="color: var(--bad-color);">На выход</div>
                                    <div class="bar-count" style="color: var(--bad-color);" id="resultsBadCount">0/6</div>
                                </div>
                            </div>
                            <div class="bar-content">
                                <div class="players-horizontal" id="resultsBadPlayers">
                                    <div class="empty-horizontal-bar">
                                        <div>
                                            <i class="fas fa-user-times" style="font-size: 2.5rem; opacity: 0.3; margin-bottom: 15px;"></i>
                                            <div style="font-size: 1.2rem; margin-bottom: 5px;">Нет игроков</div>
                                            <div style="font-size: 0.9rem; opacity: 0.7;">Добавьте игроков не соответствующего уровня</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="results-actions">
                        <button class="btn btn-secondary" id="restartRatingBtn">
                            <i class="fas fa-redo"></i> ПРОЙТИ ЗАНОВО
                        </button>
                        <button class="btn btn-primary" id="shareResultsBtn">
                            <i class="fas fa-share-alt"></i> ПОДЕЛИТЬСЯ РЕЗУЛЬТАТОМ
                        </button>
                        <button class="btn btn-primary" id="backToMenuBtn">
                            <i class="fas fa-home"></i> В ГЛАВНОЕ МЕНЮ
                        </button>
                    </div>
                </div>
            </section>
            
            <footer>
                <div class="footer-content">
                    <div class="footer-logo">
                        <div class="app-logo" style="width: 40px; height: 40px; font-size: 1.2rem;">
                            TL
                        </div>
                        <div class="footer-text">
                            <div>TierList Pro © 2025</div>
                            <div style="font-size: 0.8rem; margin-top: 5px;">Создано для блога MAD IS ON</div>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-telegram"></i>
                        </a>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- Toast уведомление -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <div class="toast-message">Рейтинг сохранен!</div>
    </div>

    <script>
        // Данные игроков Атлетико Мадрид с локальными фото
        const atleticoPlayers = [
            { 
                id: 1, 
                name: "Антуан Гризманн", 
                position: "Нападающий", 
                positionShort: "FW",
                photo: "Гризманн.jpeg",
                number: 7
            },
            { 
                id: 2, 
                name: "Ян Облак", 
                position: "Вратарь", 
                positionShort: "GK",
                photo: "Облак.png",
                number: 13
            },
            { 
                id: 3, 
                name: "Рубин Ле Норман", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Ле_Норман.png",
                number: 24
            },
            { 
                id: 4, 
                name: "Хосе Мария Хименес", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Хименес.png",
                number: 2
            },
            { 
                id: 5, 
                name: "Коке", 
                position: "Полузащитник", 
                positionShort: "MF",
                photo: "Коке.png",
                number: 6
            },
            { 
                id: 6, 
                name: "Маркос Льоренте", 
                position: "Полузащитник", 
                positionShort: "DF",
                photo: "Льоренте.png",
                number: 14
            },
            { 
                id: 7, 
                name: "Матео Руджери", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Руджери.png",
                number: 3
            },
            { 
                id: 8, 
                name: "Науэль Молина", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Молина.png",
                number: 16
            },
            { 
                id: 9, 
                name: "Алекс Баэна", 
                position: "Полузащитник", 
                positionShort: "MF",
                photo: "Баэна.png",
                number: 10
            },
            { 
                id: 10, 
                name: "Дэвид Ханцко", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Ханцко.png",
                number: 17
            },
            { 
                id: 11, 
                name: "Александр Сёрлот", 
                position: "Нападающий", 
                positionShort: "FW",
                photo: "Сёрлот.png",
                number: 9
            },
            { 
                id: 12, 
                name: "Хуан Муссо", 
                position: "Вратарь", 
                positionShort: "GK",
                photo: "Муссо.png",
                number: 1
            },
            { 
                id: 13, 
                name: "Николас Гонсалес", 
                position: "Полузащитник", 
                positionShort: "MW",
                photo: "Гонсалес.png",
                number: 23
            },
            { 
                id: 14, 
                name: "Джонни Кардосо", 
                position: "Полузащитник", 
                positionShort: "MF",
                photo: "Кардосо.png",
                number: 5
            },
            { 
                id: 15, 
                name: "Клеман Лангле", 
                position: "Защитник", 
                positionShort: "DF",
                photo: "Лангле.png",
                number: 15
            },
            { 
                id: 16, 
                name: "Джулиано Симеоне", 
                position: "Нападающий", 
                positionShort: "FW",
                photo: "Симеоне.png",
                number: 20
            },
            { 
                id: 17, 
                name: "Пабло Барриос", 
                position: "Полузащитник", 
                positionShort: "MF",
                photo: "Барриос.png",
                number: 8
            },
            { 
                id: 18, 
                name: "Хуан Альварес", 
                position: "Нападающий", 
                positionShort: "FW",
                photo: "Альварес.png",
                number: 19
            },
            { 
                id: 19, 
                name: "Тиаго Альмада", 
                position: "Нападающий", 
                positionShort: "FW",
                photo: "Альмада.png",
                number: 11
            },
            { 
                id: 20, 
                name: "Диего Симеоне", 
                position: "Главный тренер", 
                positionShort: "T",
                photo: "Диего_Симеоне.png",
                number: null
            }
        ];

        // Текущее состояние
        let currentScreen = "screen1";
        let currentPlayerIndex = 0;
        let playerRatings = [];
        let ratedPlayersCount = 0;

        // DOM элементы
        const screens = {
            screen1: document.getElementById("screen1"),
            screen2: document.getElementById("screen2"),
            screen3: document.getElementById("screen3")
        };

        const elements = {
            totalPlayers: document.getElementById("totalPlayers"),
            ratedPlayers: document.getElementById("ratedPlayers"),
            currentPlayerPhoto: document.getElementById("currentPlayerPhoto"),
            currentPlayerNumber: document.getElementById("currentPlayerNumber"),
            currentPlayerName: document.getElementById("currentPlayerName"),
            currentPlayerPosition: document.getElementById("currentPlayerPosition"),
            currentPlayerPositionBadge: document.getElementById("currentPlayerPositionBadge"),
            progressFill: document.getElementById("progressFill"),
            currentProgress: document.getElementById("currentProgress"),
            goatCount: document.getElementById("goatCount"),
            goodCount: document.getElementById("goodCount"),
            normCount: document.getElementById("normCount"),
            badCount: document.getElementById("badCount"),
            goatPlayers: document.getElementById("goatPlayers"),
            goodPlayers: document.getElementById("goodPlayers"),
            normPlayers: document.getElementById("normPlayers"),
            badPlayers: document.getElementById("badPlayers"),
            resultsGoatCount: document.getElementById("resultsGoatCount"),
            resultsGoodCount: document.getElementById("resultsGoodCount"),
            resultsNormCount: document.getElementById("resultsNormCount"),
            resultsBadCount: document.getElementById("resultsBadCount"),
            resultsGoatPlayers: document.getElementById("resultsGoatPlayers"),
            resultsGoodPlayers: document.getElementById("resultsGoodPlayers"),
            resultsNormPlayers: document.getElementById("resultsNormPlayers"),
            resultsBadPlayers: document.getElementById("resultsBadPlayers"),
            resultsTotalRated: document.getElementById("resultsTotalRated"),
            toast: document.getElementById("toast"),
            tierlistSidebar: document.getElementById("tierlistSidebar")
        };

        // Инициализация
        function init() {
            resetRatings();
            setupEventListeners();
            updateMainScreen();
            updateTierlistSidebar();
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            // Навигация
            document.getElementById("startRatingBtn").addEventListener("click", startRating);
            document.getElementById("backFromRatingBtn").addEventListener("click", () => {
                if (confirm("Прервать оценку? Весь прогресс будет потерян.")) {
                    showScreen("screen1");
                }
            });
            
            document.getElementById("editBtn").addEventListener("click", startRating);
            document.getElementById("viewResultsBtn").addEventListener("click", () => {
                if (ratedPlayersCount === 20) {
                    showResults();
                } else {
                    showToast("Сначала завершите оценку всех игроков!");
                }
            });
            
            document.getElementById("shareBtn").addEventListener("click", shareTierList);
            document.getElementById("restartRatingBtn").addEventListener("click", restartRating);
            document.getElementById("shareResultsBtn").addEventListener("click", shareResults);
            document.getElementById("backToMenuBtn").addEventListener("click", () => showScreen("screen1"));
            
            // Оценка игроков
            document.querySelectorAll(".rating-option-card").forEach(option => {
                option.addEventListener("click", function() {
                    const category = this.dataset.category;
                    rateCurrentPlayer(category);
                });
            });
        }

        // Сбросить рейтинги
        function resetRatings() {
            playerRatings = JSON.parse(JSON.stringify(atleticoPlayers));
            playerRatings.forEach(player => {
                player.category = null;
            });
            currentPlayerIndex = 0;
            ratedPlayersCount = 0;
            updateRatedPlayersCount();
        }

        // Начать оценку
        function startRating() {
            resetRatings();
            currentPlayerIndex = 0;
            showScreen("screen2");
            updateCurrentPlayer();
            updateCategoryCounters();
            updateTierlistSidebar();
        }

        // Обновить текущего игрока
        function updateCurrentPlayer() {
            if (currentPlayerIndex >= playerRatings.length) {
                showResults();
                return;
            }

            const player = playerRatings[currentPlayerIndex];
            
            elements.currentPlayerPhoto.src = player.photo;
            elements.currentPlayerName.textContent = player.name;
            elements.currentPlayerPosition.textContent = player.position;
            elements.currentPlayerPositionBadge.textContent = player.positionShort;
            
            if (player.number) {
                elements.currentPlayerNumber.textContent = player.number;
                elements.currentPlayerNumber.style.display = 'flex';
            } else {
                elements.currentPlayerNumber.style.display = 'none';
            }
            
            // Обновить прогресс
            const progress = ((currentPlayerIndex) / playerRatings.length) * 100;
            elements.progressFill.style.width = `${progress}%`;
            elements.currentProgress.textContent = `${currentPlayerIndex + 1}/${playerRatings.length}`;
            
            // Анимация
            document.querySelector(".player-showcase").classList.add("slide-in-right");
            setTimeout(() => {
                document.querySelector(".player-showcase").classList.remove("slide-in-right");
            }, 600);
        }

        // Оценить текущего игрока с анимацией "полета" в тир-лист
        function rateCurrentPlayer(category) {
            const player = playerRatings[currentPlayerIndex];
            
            // Проверить лимиты
            if (!canAddToCategory(category)) {
                showToast(`Лимит категории "${getCategoryName(category)}" достигнут!`);
                return;
            }
            
            // Анимация полета фотографии в тир-лист
            animatePhotoFlight(player.photo, category);
            
            // Сохранить оценку
            player.category = category;
            ratedPlayersCount++;
            updateRatedPlayersCount();
            
            // Показать уведомление
            showToast(`${player.name.split(' ')[0]} → ${getCategoryName(category)}`);
            
            // Обновить счетчики и тир-лист
            updateCategoryCounters();
            updateTierlistSidebar();
            
            // Перейти к следующему игроку
            currentPlayerIndex++;
            
            if (currentPlayerIndex < playerRatings.length) {
                setTimeout(() => {
                    updateCurrentPlayer();
                }, 800);
            } else {
                setTimeout(() => {
                    showResults();
                }, 1000);
            }
        }

        // Анимация полета фотографии в тир-лист
        function animatePhotoFlight(photoUrl, category) {
            const playerPhoto = document.getElementById("currentPlayerPhoto");
            const rect = playerPhoto.getBoundingClientRect();
            
            // Создать летающий элемент
            const flyingPhoto = document.createElement("div");
            flyingPhoto.className = "fly-animation";
            flyingPhoto.style.width = `${rect.width}px`;
            flyingPhoto.style.height = `${rect.height}px`;
            flyingPhoto.style.background = `url('${photoUrl}') center/cover`;
            flyingPhoto.style.borderRadius = "20px";
            flyingPhoto.style.border = "3px solid var(--primary-color)";
            flyingPhoto.style.top = `${rect.top}px`;
            flyingPhoto.style.left = `${rect.left}px`;
            
            // Рассчитать конечную позицию в тир-листе
            const tierContainer = elements.tierlistSidebar.getBoundingClientRect();
            let targetX, targetY;
            
            // Найти позицию соответствующей категории в сайдбаре
            const categoryElement = document.querySelector(`.tier-category-header.${category}`);
            if (categoryElement) {
                const catRect = categoryElement.getBoundingClientRect();
                targetX = catRect.left - rect.left - 100;
                targetY = catRect.top - rect.top + 100;
            } else {
                // Запасная позиция
                targetX = tierContainer.left - rect.left;
                targetY = tierContainer.top - rect.top;
            }
            
            // Установить CSS переменные для анимации
            flyingPhoto.style.setProperty('--tx', `${targetX}px`);
            flyingPhoto.style.setProperty('--ty', `${targetY}px`);
            
            document.body.appendChild(flyingPhoto);
            
            // Удалить элемент после анимации
            setTimeout(() => {
                document.body.removeChild(flyingPhoto);
            }, 800);
        }

        // Проверить лимиты категории
        function canAddToCategory(category) {
            const limits = { goat: 2, good: 6, norm: 6, bad: 6 };
            const count = playerRatings.filter(p => p.category === category).length;
            return count < limits[category];
        }

        // Обновить счетчики категорий
        function updateCategoryCounters() {
            const counts = {
                goat: playerRatings.filter(p => p.category === "goat").length,
                good: playerRatings.filter(p => p.category === "good").length,
                norm: playerRatings.filter(p => p.category === "norm").length,
                bad: playerRatings.filter(p => p.category === "bad").length
            };
            
            // Обновить счетчики в интерфейсе оценки
            document.querySelectorAll(".rating-option-card .category-counter").forEach((counter, index) => {
                const categories = ["goat", "good", "norm", "bad"];
                const limits = [2, 6, 6, 6];
                counter.textContent = `${counts[categories[index]]}/${limits[index]}`;
            });
            
            // Обновить счетчики в сайдбаре
            elements.goatCount.textContent = `${counts.goat}/2`;
            elements.goodCount.textContent = `${counts.good}/6`;
            elements.normCount.textContent = `${counts.norm}/6`;
            elements.badCount.textContent = `${counts.bad}/6`;
        }

        // Обновить сайдбар с тир-листом
        function updateTierlistSidebar() {
            const categories = ["goat", "good", "norm", "bad"];
            const containers = [elements.goatPlayers, elements.goodPlayers, elements.normPlayers, elements.badPlayers];
            
            categories.forEach((category, index) => {
                const players = playerRatings.filter(p => p.category === category);
                const container = containers[index];
                
                if (players.length > 0) {
                    let html = '';
                    players.forEach(player => {
                        html += `
                            <div class="tier-player-card">
                                <div class="tier-player-photo">
                                    <img src="${player.photo}" alt="${player.name}" onerror="this.src='placeholder.png'">
                                </div>
                                <div class="tier-player-info">
                                    <div class="tier-player-name">${player.name.split(' ')[0]}</div>
                                    <div class="tier-player-details">
                                        <div class="tier-player-position">${player.positionShort}</div>
                                        ${player.number ? `<div class="tier-player-number">${player.number}</div>` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    container.innerHTML = html;
                } else {
                    const icon = category === 'goat' ? 'fa-crown' : 
                                category === 'good' ? 'fa-star' : 
                                category === 'norm' ? 'fa-user' : 'fa-user-times';
                    const text = category === 'goat' ? 'Добавьте сюда лучших' :
                                category === 'good' ? 'Ключевые игроки' :
                                category === 'norm' ? 'Стабильные исполнители' : 'Не соответствует уровню';
                    container.innerHTML = `
                        <div class="tier-category-empty">
                            <i class="fas ${icon}"></i>
                            <p>${text}</p>
                        </div>
                    `;
                }
            });
        }

        // Обновить счетчик оцененных игроков
        function updateRatedPlayersCount() {
            elements.ratedPlayers.textContent = ratedPlayersCount;
        }

        // Показать результаты
        function showResults() {
            showScreen("screen3");
            setTimeout(() => {
                updateResultsScreen();
            }, 300);
        }

        // Обновить экран результатов с горизонтальной гистограммой
        function updateResultsScreen() {
            // Обновить общее количество оцененных игроков
            elements.resultsTotalRated.textContent = ratedPlayersCount;
            
            const categories = ["goat", "good", "norm", "bad"];
            const countElements = [
                document.getElementById("resultsGoatCount"),
                document.getElementById("resultsGoodCount"),
                document.getElementById("resultsNormCount"),
                document.getElementById("resultsBadCount")
            ];
            const playerContainers = [
                document.getElementById("resultsGoatPlayers"),
                document.getElementById("resultsGoodPlayers"),
                document.getElementById("resultsNormPlayers"),
                document.getElementById("resultsBadPlayers")
            ];
            
            const limits = { goat: 2, good: 6, norm: 6, bad: 6 };
            const colors = { 
                goat: "var(--goat-color)", 
                good: "var(--good-color)", 
                norm: "var(--norm-color)", 
                bad: "var(--bad-color)" 
            };
            const gradients = {
                goat: "var(--goat-gradient)",
                good: "var(--good-gradient)",
                norm: "var(--norm-gradient)",
                bad: "var(--bad-gradient)"
            };
            
            categories.forEach((category, index) => {
                const players = playerRatings.filter(p => p.category === category);
                const count = players.length;
                const container = playerContainers[index];
                const color = colors[category];
                const gradient = gradients[category];
                
                // Обновить счетчик
                if (countElements[index]) {
                    countElements[index].textContent = `${count}/${limits[category]}`;
                }
                
                // Обновить отображение игроков в виде горизонтальной гистограммы
                if (players.length > 0) {
                    let html = '';
                    
                    players.forEach((player, playerIndex) => {
                        const orderNumber = playerRatings.findIndex(p => p.id === player.id) + 1;
                        const animationDelay = playerIndex * 0.1;
                        
                        html += `
                            <div class="horizontal-player-card" style="animation-delay: ${animationDelay}s;">
                                <div class="horizontal-photo ${category} horizontal-photo-glow">
                                    <img src="${player.photo}" alt="${player.name}" 
                                         onerror="this.src='placeholder.png'">
                                </div>
                                <div class="horizontal-order-badge" style="background: ${gradient};">
                                    ${orderNumber}
                                </div>
                                <div class="horizontal-player-info">
                                    <div class="horizontal-player-name" style="color: ${color};">${player.name.split(' ')[0]}</div>
                                    <div class="horizontal-player-details">
                                        <div class="horizontal-position-badge">${player.positionShort}</div>
                                        ${player.number ? `<div class="horizontal-player-number">${player.number}</div>` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    
                    container.innerHTML = html;
                } else {
                    container.innerHTML = `
                        <div class="empty-horizontal-bar">
                            <div>
                                <i class="fas ${getCategoryIcon(category)}" style="font-size: 2.5rem; opacity: 0.3; margin-bottom: 15px;"></i>
                                <div style="font-size: 1.2rem; margin-bottom: 5px;">Нет игроков</div>
                                <div style="font-size: 0.9rem; opacity: 0.7;">${getEmptyCategoryText(category)}</div>
                            </div>
                        </div>
                    `;
                }
            });
            
            // Добавим статистику сводку
            addResultsSummary();
        }

        // Получить иконку для категории
        function getCategoryIcon(category) {
            const icons = {
                goat: 'fa-crown',
                good: 'fa-star',
                norm: 'fa-user',
                bad: 'fa-user-times'
            };
            return icons[category] || 'fa-user';
        }

        // Получить текст для пустой категории
        function getEmptyCategoryText(category) {
            const texts = {
                goat: "Добавьте легенд клуба",
                good: "Добавьте ключевых игроков",
                norm: "Добавьте стабильных исполнителей",
                bad: "Добавьте игроков не соответствующего уровня"
            };
            return texts[category] || "Нет игроков";
        }

        // Добавить сводку статистики
        function addResultsSummary() {
            const summaryContainer = document.getElementById("resultsSummary");
            const goatCount = playerRatings.filter(p => p.category === "goat").length;
            const goodCount = playerRatings.filter(p => p.category === "good").length;
            const normCount = playerRatings.filter(p => p.category === "norm").length;
            const badCount = playerRatings.filter(p => p.category === "bad").length;
            
            const summaryHTML = `
                <div class="horizontal-stat-card">
                    <div class="horizontal-stat-value" style="color: var(--goat-color);">
                        ${goatCount}
                    </div>
                    <div class="horizontal-stat-label">GOAT</div>
                    <div class="horizontal-stat-subtext">${goatCount} из ${2} мест</div>
                </div>
                <div class="horizontal-stat-card">
                    <div class="horizontal-stat-value" style="color: var(--good-color);">
                        ${goodCount}
                    </div>
                    <div class="horizontal-stat-label">ХОРОШ</div>
                    <div class="horizontal-stat-subtext">${goodCount} из ${6} мест</div>
                </div>
                <div class="horizontal-stat-card">
                    <div class="horizontal-stat-value" style="color: var(--norm-color);">
                        ${normCount}
                    </div>
                    <div class="horizontal-stat-label">НОРМ</div>
                    <div class="horizontal-stat-subtext">${normCount} из ${6} мест</div>
                </div>
                <div class="horizontal-stat-card">
                    <div class="horizontal-stat-value" style="color: var(--bad-color);">
                        ${badCount}
                    </div>
                    <div class="horizontal-stat-label">БЕЗДАРЬ</div>
                    <div class="horizontal-stat-subtext">${badCount} из ${6} мест</div>
                </div>
            `;
            
            if (summaryContainer) {
                summaryContainer.innerHTML = summaryHTML;
            }
        }

        // Перезапустить оценку
        function restartRating() {
            if (confirm("Начать оценку заново?")) {
                startRating();
            }
        }

        // Получить название категории
        function getCategoryName(category) {
            const names = {
                goat: "GOAT",
                good: "Основа",
                norm: "Лавка",
                bad: "На выход"
            };
            return names[category] || category;
        }

        // Показать экран
        function showScreen(screenId) {
            Object.values(screens).forEach(screen => {
                screen.classList.remove("active");
            });
            screens[screenId].classList.add("active");
            currentScreen = screenId;
            
            // Показать/скрыть сайдбар в зависимости от экрана
            if (screenId === "screen2") {
                elements.tierlistSidebar.style.display = "block";
            } else if (screenId === "screen3") {
                elements.tierlistSidebar.style.display = "none";
            } else {
                elements.tierlistSidebar.style.display = "none";
            }
        }

        // Поделиться тир-листом
        function shareTierList() {
            if (ratedPlayersCount < 20) {
                showToast("Сначала завершите оценку всех игроков!");
                return;
            }
            shareResults();
        }

        // Поделиться результатами
        function shareResults() {
            const shareText = `Мой тир-лист Атлетико Мадрид:\n\n` +
                            `GOAT: ${playerRatings.filter(p => p.category === "goat").length} игроков\n` +
                            `Основа: ${playerRatings.filter(p => p.category === "good").length} игроков\n` +
                            `Лавка: ${playerRatings.filter(p => p.category === "norm").length} игроков\n` +
                            `На выход: ${playerRatings.filter(p => p.category === "bad").length} игроков\n\n` +
                            `Создайте свой на TierList Pro!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Мой тир-лист Атлетико Мадрид',
                    text: shareText,
                    url: window.location.href,
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    showToast("Результаты скопированы в буфер обмена!");
                });
            }
        }

        // Показать уведомление
        function showToast(message) {
            elements.toast.querySelector(".toast-message").textContent = message;
            elements.toast.classList.add("show");
            
            setTimeout(() => {
                elements.toast.classList.remove("show");
            }, 3000);
        }

        // Запуск приложения
        window.addEventListener("DOMContentLoaded", init);
    </script>
</body>
</html>